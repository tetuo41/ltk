---
import type { SocialLink } from '@/types';

const currentYear = new Date().getFullYear();

const socialLinks: SocialLink[] = [
  {
    platform: 'twitch',
    url: 'https://www.twitch.tv/thek4sen',
    label: 'Twitch'
  },
  {
    platform: 'youtube', 
    url: 'https://youtube.com/@lolthek4sen',
    label: 'YouTube'
  },
  {
    platform: 'twitter',
    url: 'https://twitter.com/thek4sen',
    label: 'Twitter'
  }
];

// Function to get social icon
function getSocialIcon(platform: string): string {
  const icons: Record<string, string> = {
    twitch: '📺',
    youtube: '🎥', 
    twitter: '🐦',
    discord: '💬'
  };
  return icons[platform] || '🔗';
}
---

<footer class="bg-primary border-t-2 border-gold mt-16">
  <div class="max-w-6xl mx-auto px-5">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 pt-12 pb-8">
      <!-- Tournament Info Section -->
      <section class="flex flex-col gap-4">
        <h3 class="text-lg font-semibold text-silver mb-0 pb-2 border-b-2 border-gold relative after:absolute after:bottom-0 after:left-0 after:w-10 after:h-0.5 after:bg-silver">Tournament Information</h3>
        <div class="grid gap-3">
          <div class="flex flex-col gap-1">
            <span class="text-xs text-gold/70 uppercase tracking-wide font-medium">大会名</span>
            <span class="text-sm text-silver font-medium">League The k4sen</span>
          </div>
          <div class="flex flex-col gap-1">
            <span class="text-xs text-gold/70 uppercase tracking-wide font-medium">シーズン</span>
            <span class="text-sm text-silver font-medium">精霊の花祭り 幽明の境</span>
          </div>
          <div class="flex flex-col gap-1">
            <span class="text-xs text-gold/70 uppercase tracking-wide font-medium">主催</span>
            <span class="text-sm text-silver font-medium">k4sen (ZETA DIVISION)</span>
          </div>
          <div class="flex flex-col gap-1">
            <span class="text-xs text-gold/70 uppercase tracking-wide font-medium">協力</span>
            <span class="text-sm text-silver font-medium">Riot Games</span>
          </div>
      </div>
    </section>

      <!-- Social Links Section -->
      <section class="flex flex-col gap-4">
        <h3 class="text-lg font-semibold text-silver mb-0 pb-2 border-b-2 border-gold relative after:absolute after:bottom-0 after:left-0 after:w-10 after:h-0.5 after:bg-silver">公式チャンネル</h3>
        <div class="flex flex-col gap-2">
          {socialLinks.map((link) => (
            <a 
              href={link.url} 
              target="_blank" 
              rel="noopener noreferrer"
              class={`flex items-center gap-3 p-3 rounded-lg bg-gold/10 border border-gold/20 text-gold no-underline transition-all duration-150 relative overflow-hidden hover:bg-gold/20 hover:border-gold hover:translate-x-1 hover:text-silver group ${
                link.platform === 'twitch' ? 'hover:border-purple-500 hover:bg-purple-500/10' :
                link.platform === 'youtube' ? 'hover:border-red-500 hover:bg-red-500/10' :
                link.platform === 'twitter' ? 'hover:border-blue-400 hover:bg-blue-400/10' : ''
              }`}
              aria-label={`${link.label}で視聴する`}
              data-platform={link.platform}
            >
              <span class="text-lg w-6 flex justify-center" aria-hidden="true">
                {getSocialIcon(link.platform)}
              </span>
              <span class="font-medium flex-1">{link.label}</span>
              <span class="text-sm opacity-70 transition-all duration-150 group-hover:opacity-100 group-hover:translate-x-0.5 group-hover:-translate-y-0.5" aria-hidden="true">↗</span>
            </a>
          ))}
      </div>
    </section>

        </div>
      </section>

      <!-- Quick Stats Section -->
      <section class="flex flex-col gap-4">
        <h3 class="text-lg font-semibold text-silver mb-0 pb-2 border-b-2 border-gold relative after:absolute after:bottom-0 after:left-0 after:w-10 after:h-0.5 after:bg-silver">大会概要</h3>
        <div class="grid grid-cols-3 gap-4">
          <div class="text-center p-4 bg-gold/10 rounded-lg border border-gold/20 transition-all duration-150 hover:bg-gold/20 hover:-translate-y-0.5">
            <span class="block text-3xl font-bold text-gold leading-none mb-1">4</span>
            <span class="text-xs text-gold/70 uppercase tracking-wide font-medium">チーム</span>
          </div>
          <div class="text-center p-4 bg-gold/10 rounded-lg border border-gold/20 transition-all duration-150 hover:bg-gold/20 hover:-translate-y-0.5">
            <span class="block text-3xl font-bold text-gold leading-none mb-1">48</span>
            <span class="text-xs text-gold/70 uppercase tracking-wide font-medium">配信者</span>
          </div>
          <div class="text-center p-4 bg-gold/10 rounded-lg border border-gold/20 transition-all duration-150 hover:bg-gold/20 hover:-translate-y-0.5">
            <span class="block text-3xl font-bold text-gold leading-none mb-1">2</span>
            <span class="text-xs text-gold/70 uppercase tracking-wide font-medium">部門</span>
          </div>
        </div>
      </section>
    </div>
  </div>

    <!-- Copyright Section -->
    <div class="bg-primary/80 border-t border-gold/30">
      <div class="max-w-6xl mx-auto px-5">
        <div class="py-6 text-center flex flex-col gap-3">
          <p class="text-sm text-gold/70 m-0">
            &copy; {currentYear} League The k4sen. 
            Hosted by <strong class="text-gold font-semibold">k4sen</strong> (ZETA DIVISION). 
            Supported by <strong class="text-gold font-semibold">Riot Games</strong>.
          </p>
          
          <div class="flex justify-center gap-4">
            <span class="text-xs text-gold/70">
              League of Legends &copy; Riot Games, Inc.
            </span>
          </div>

          <div class="flex justify-center gap-4 flex-wrap">
            <span class="text-xs text-gold/70">
              このサイトは非公式のファンサイトです。
            </span>
            <span class="text-xs text-gold/70">
              Built with <span class="text-gold font-medium">Astro</span> + <span class="text-gold font-medium">TypeScript</span>
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</footer>

<style>
  /* Custom responsive adjustments */
  @media (max-width: 768px) {
    .stats-section .grid {
      @apply grid-cols-3 gap-2;
    }
    
    .stats-section .stat-item {
      @apply p-2;
    }
    
    .stats-section .stat-number {
      @apply text-2xl;
    }
    
    .copyright-content {
      @apply py-4 gap-2;
    }
    
    .site-info {
      @apply flex-col gap-1;
    }
  }

  @media (max-width: 480px) {
    .social-links {
      @apply gap-1;
    }
    
    .social-link {
      @apply p-2 gap-2;
    }
    
    .stats-section .grid {
      @apply grid-cols-1 gap-2;
    }
    
    .copyright-section .flex {
      @apply flex-col gap-1;
    }
  }
</style>